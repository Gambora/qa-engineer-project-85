---
- summary: |
    Успешная регистрация пользователя при помощи логина и пароля
  requirement: |
    Пользователь может зарегистрироваться на сайте используя логин и пароль
  prerequisites: |
    Открыта страница регистрации
  test-data: |
    - Nickname = Login45
    - Email = mail@micro.com
    - Password = tester818
    - Password Confirmation = tester818
  steps:
    - Нажать "Sing up"
    - Ввести Nickname
    - Ввести Email
    - Ввести Password
    - Ввести Password Confirmation
  expected-result: |
    Пользователь попадает в систему и видит главную страницу
    
- summary: |
    Успешная регистрация пользователя через GitHub и Discord
  requirement: |
    Пользователь может зарегистрироваться на сайте через GitHub и Discord
  prerequisites: |
    Открыта страница регистрации
    У пользователя есть аккаунт GitHub и Discord
  test-data: |
    Нет данных
  steps:
    - Нажать кнопку «Зарегистрироваться через GitHub»
    - Выйти из системы
    - Нажать кнопку «Зарегистрироваться через Discord»
  expected-result: |
    Пользователь попадает в систему и видит главную страницу
        
- summary: |
    Успешный вход пользователя с существующими логином и паролем
  requirement: |
    Вход в систему осуществляется по логину и паролю
  prerequisites: |
    У пользователя есть зарегистрированный аккаунт
    Открыта страница логина
  test-data: |
    - Email = mail@micro.com
    - Password = tester818
  steps:
    - Ввести Email
    - Ввести Password
    - Нажать "Submit"
  expected-result: |
    Пользователь попадает в систему и видит главную страницу

- summary: |
    Успешное отображение истории игр и турниров на главной странице
  requirement: |
    На главной странице отображается история игр и турниров
  prerequisites: |
    Пользователь авторизован
    Ранее были сыграны игры или турниры
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
  expected-result: |
    Отображается список завершённых игр и турниров
        
- summary: |
    Успешное автоматическое создание личной страницы пользователя
  requirement: |
    У пользователя должна автоматически создаваться личная страница
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - Нажать на никнейм 
    - Нажать "My profile"
  expected-result: |
    Отображаются никнейм, рейтинг, количество игр, побед, поражений, сдавшихся, основной язык, дата регистрации, календарь активности
        
- summary: |
    Успешное выведение всплывающего окна при наведении на никнейм
  requirement: |
    При наведении курсора на никнейм отображается всплывающее окно с информацией и кнопками
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - Навести курсор на никнейм игрока в лобби
  expected-result: |
    Отображается окно с информацией о количестве побед, поражений, игр в которых сдался. Кнопки «Подписаться» и «Сражаться»

- summary: |
    Успешное создание новой игры с заданными параметрами
  requirement: |
    Есть возможность создать новую игру, выбрав язык, уровень, тематику, время, тип соперника
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Level = 1
    Game Type = With other user
    Time control = 8 min
    Choose task by name or tags = random task
    Tags = rest
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - Нажать "Create a game"
    - Выбрать уровень
    - Выбрать тип игры
    - Выбрать время
    - Выбрать задачу
    - Выбрать тэги
    - Нажать "Create battle"
  expected-result: |
    Игра создаётся с выбранными параметрами, начинается поединок
        
- summary: |
    Успешный вызов игрока на поединок
  requirement: |
    Любого игрока можно вызвать на поединок
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Навести курсор на никнейм любого игрока
    - Нажать "Play active game"
  expected-result: |
    Игрок получает приглашение на поединок
        
- summary: |
    Успешный запуск кода во время игры
  requirement: |
    В процессе игры есть возможность писать и запускать код
  prerequisites: |
    Пользователь авторизован
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Level = 1
    Game Type = With a bot
    Time control = 10 min
    Choose task by name or tags = rect_area
    Tags = math, rest
    Код = const _ = require("lodash");
          const R = require("rambda");

          const solution = (width, length) => {
          return width * length;
          };

          module.exports = solution;
  steps:
    - Нажать "Create a game"
    - Выбрать уровень
    - Выбрать тип игры
    - Выбрать время
    - Выбрать задачу
    - Выбрать тэги
    - Нажать "Create battle"
    - Написать код в редакторе
  expected-result: |
    Код выполняется, пользователь получает результат

- summary: |
    Успешное отображение лидеров недели на главной странице
  requirement: |
    На главной отображаются лидеры недели, месяца и за всё время
  prerequisites: |
    В системе есть игроки с победами и рейтингом
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
  expected-result: |
    Отображается список лидеров по рейтингу за неделю, месяц и за всё время
        
- summary: |
    Успешный запуск поединка с ботом
  requirement: |
    В игру можно играть с ботом
  prerequisites: |
    Пользователь авторизован
    Открыта главная страница https://codebattle.hexlet.io/#lobby
  test-data: |
    Level = 2
    Game Type = With a bot
    Time control = 8 min
    Choose task by name or tags = random task
    Tags = rest
  steps:
    - Нажать "Create a game"
    - Выбрать уровень
    - Выбрать тип игры
    - Выбрать время
    - Выбрать задачу
    - Выбрать тэги
    - Нажать "Create battle"
  expected-result: |
    Пользователь видит бота в качестве соперника 
    
- summary: |
    Успешное ограничение по времени во время игры
  requirement: |
    Время поединка должно быть ограничено указанным ранее количеством минут
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Level = 2
    Game Type = With a bot
    Time control = 8 min
    Choose task by name or tags = random task
    Tags = rest 
  steps:
    - Открыть главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажать "Create a game"
    - Выбрать уровень
    - Выбрать тип игры
    - Выбрать время
    - Выбрать задачу
    - Выбрать тэги
    - Нажать "Create battle"
    - Дождаться окончания таймера
  expected-result: |
    Игра завершается, фиксируется как сдача или проигрыш

- summary: |
    Успешная отправка сообщения в общем чате сайта
  requirement: |
    В чате на главной странице можно отправить сообщение
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Текст сообщения = "Hello!"
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - В общем чате написать сообщение
    - Нажать "Отправить"
  expected-result: |
    Текст сообщения отобразился в общем чате, время отправки сообщения отображено верно
        
- summary: |
    Успешный просмотр завершённых сражений
  requirement: |
    Есть возможность просмотра завершённых сражений
  prerequisites: |
    На сайте есть завершённые игры
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - Нажать "История"
  expected-result: |
    Открывается информация о сражении (ник, уровень, дата, результат, подробнее)
        
- summary: |
    Успешное завершение поединка при помощи кнопки "Сдаться"
  requirement: |
    Игрок может сдаться во время игры
  prerequisites: |
    Пользователь авторизован и находится в процессе игры
  test-data: |
    Нет данных
  steps:
    - Нажать "Сдаться"
    - Нажать "Подтвердить выбор"
  expected-result: |
    Пользователь на главной странице 

- summary: |
    Успешный выбор определённой задачи при создании игры
  requirement: |
    При создании игры можно выбрать определённую игру, иначе она будет подобрана наугад
  prerequisites: |
    Пользователь в системе на главной странице
  test-data: |
    Level = 1
    Game Type = With a bot
    Time control = 8 min
    Choose task by name or tags = sort_by_name
    Tags = no tags
  steps:
    - Нажать "Create a game"
    - Выбрать уровень
    - Выбрать тип игры
    - Выбрать время
    - Выбрать любую задачу кроме random task
    - Нажать "Create battle"
  expected-result: |
    Установлена задача, которую выбрал пользователь
        
- summary: |
    Успешная смена языка программирования в процессе игры
  requirement: |
    Есть возможность смены языка программирования во время сражения
  prerequisites: |
    Пользователь авторизован и в процессе игры
  test-data: |
    Нет данных
  steps:
    - Нажать на кнопку выбора языка
    - Выбрать любой язык, кроме установленного
  expected-result: |
    Код сменился с предыдущего языка на новый, сменилась иконка языка

- summary: |
    Успешная адаптивность интерфейса для экрана планшта
  requirement: |
    Интерфейс должен быть адаптирован к размеру экрана планшета
  prerequisites: |
    Пользователь авторизован
  steps:
    - Открыть сайт https://codebattle.hexlet.io/#lobby
    - Нажать на аватар или ник
    - Перейти в "Настройки"
    - Нажать "Hexlet codebattle"
    - Нажать "Tournaments"
    - Нажать "History"
    - Нажать "Top list"
    - Нажать "Hexlet codebattle"
    - Нажать "Create a game"
  expected-result: |
    Все элементы интерфейса адаптированы

- summary: |
    Успешное отображение списка турниров
  requirement: |
    Пользователь должен видеть список турниров с названиями, типом и кнопкой подробного просмотра
  prerequisites: |
    Пользователь авторизован, сыгран хотя бы один турнир
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу https://codebattle.hexlet.io/#lobby
    - Нажать на "Tournaments"
  expected-result: |
    Список турниров корректно отображается, все данные на месте, кнопки работают

- summary: |
    Успешное отображение полного рейтинга пользователей
  requirement: |
    Пользователь должен видеть таблицу с рейтингами, количеством игр, датой регистрации и GitHub-иконкой
  prerequisites: |
    Пользователь авторизован, есть участники с рейтингом
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу
    - Убедиться, что таблица отображает ник, рейтинг, число игр, дату регистрации
  expected-result: |
    Вся информация отображается корректно, рейтинг отсортирован, иконки GitHub видны

- summary: |
    Успешная работа пагинации в рейтинге пользователей
  requirement: |
    При переключении страниц рейтинг должен обновляться, количество пользователей соответствует выбранному лимиту
  prerequisites: |
    Пользователь авторизован
    На сайте зарегистрировано более 50 пользователей
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу 
    - Нажать "Top list"
    - Перейти на следующую страницу
    - Вернуться на предыдущую страницу
    - Изменить параметр пагинации на 50 пользователей
    - Прейти на следующую страницу
    - Вернуться на предыдущую страницу
  expected-result: |
    Отображается следующая группа пользователей, общее количество корректно разбивается по страницам
        
- summary: |
    Успешная работа фильтрации в рейтинге по имени пользователя
  requirement: |
    Пользователь может отфильтровать рейтинг по части имени
  prerequisites: |
    Пользователь авторизован
    Есть несколько пользователей с разными именами
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу 
    - Нажать "Top list"
    - Ввести в строку "Username" любой существующий ник 
  expected-result: |
    В таблице отображаются только пользователи с указанным ником

- summary: |
    Успешный просмотр чужой битвы из лобби
  requirement: |
    Пользователь может нажать кнопку "Show" рядом с активной игрой и просмотреть чужое сражение
  prerequisites: |
    Пользователь авторизован
    В лобби есть активная игра между другими пользователями
  test-data: |
    Нет данных
  steps:
    - Перейти на главную страницу 
    - Нажать кнопку "Show"
  expected-result: |
    Открывается интерфейс игры — задача, код, ход сражения доступны для наблюдения

- summary: |
    Успешная фильтрация рейтинга по имени, которого нет в базе
  requirement: |
    При отсутствии совпадений таблица должна быть пуста
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть страницу рейтинга игроков https://codebattle.hexlet.io/users
    - Ввести в поле "Username" любой несуществующий ник
  expected-result: |
    Таблица пуста

- summary: |
    Проверка недоступности битвы после отмены
  requirement: |
    При отмене игры просмотр должен быть недоступен
  prerequisites: |
    Пользователь авторизован и находится в игре
  test-data: |
    Нет данных
  steps:
    - Нажать "Завершить игру"
    - Нажать "Подтвердить"
  expected-result: |
    Пользователь видит сообщение об ошибке
        
- summary: |
    Успешный переход на главную страницу после завершение игры
  requirement: |
    После завершения игры у пользователя автоматически должна открыться главная страница
  prerequisites: |
    Пользователь авторизован и находится в активной игре
  test-data: |
    Нет данных
  steps:
    - Нажать "Завершить"
    - Нажать "Подтвердить"
  expected-result: |
    Открыта главная страница
    
- summary: |
    Успешная сортировка списка пользователей по рейтингу в убывающем порядке
  requirement: |
    Пользователь может сортировать таблицу по рейтингу от меньшего к большему
  prerequisites: |
    Пользователь авторизован и находится на странице рейтинга
  test-data: |
    Нет данных
  steps:
    - Нажать на "Rating"
  expected-result: |
    Пользователи отсортированы по рейтингу в убывающем порядке

- summary: |
    Успешная сортировка по столбцу "Games played"
  requirement: |
    Пользователь может отсортировать таблицу по количеству игр
  prerequisites: |
    Пользователь авторизован и находится на странице рейтинга
  test-data: |
    Нет данных
  steps:
    - Нажать на "Games played"
    - Ещё раз нажать на "Games played"
  expected-result: |
    Таблица отсортирована по количеству сыгранных игр, а затем в обратном порядке

- summary: |
    Успешная сортировка по дате регистрации пользователей
  requirement: |
    Пользователь может сортировать по дате в столбце "Joined"
  prerequisites: |
    Пользователь авторизован и находится на странице рейтинга
  test-data: |
    Нет данных
  steps:
    - Нажать на "Joined"
    - Нажать на "Joined" ещё раз
  expected-result: |
    Пользователи отсортированы по дате регистрации, а затем в обратном порядке
        
- summary: |
    Успешное отображение игр с ботами в списке рейтинга при включенном фильтре
  requirement: |
    Пользователь имеет возможность просматривать весь рейтинг, включая игры с ботами
  prerequisites: |
   Пользователь авторизован и находится на странице рейтинга 
  test-data: |
    Нет данных
  steps:
    - Установить флажок "With bots"
  expected-result: |
    Отображаются все игры, включая игры с ботами
        
- summary: |
    Успешная классификация в обратном порядке
  requirement: |
    Пользователь может классифицировать рейтинг в обратном порядке
  prerequisites: |
    Пользователь авторизован и находится на странице рейтинга
  test-data: |
    Нет данных
  steps:
    - Нажать на "Rank"
  expected-result: |
    Все пользователи отображаютсв обратном порядке

- summary: |
    Успешный переход в раздел настроек через выпадающее меню
  requirement: |
    Ссылка на настройки должна быть рабочей
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Settings"
  expected-result: |
     Открыта страница с настройками пользователя   

- summary: |
    Успешная работа ссылки на сайт Hexlet из меню
  requirement: |
    При клике на ссылку должен открыться сайт ru.hexlet.io
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Hexlet"
  expected-result: |
    В новой вкладке открыт сайт Hexlet

- summary: |
    Успешный переход в раздел "Tournaments" из меню
  requirement: |
    Пользователь может перейти к турнирам через меню
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Tournaments"
  expected-result: |
    Открыта страница с турнирами
        
- summary: |
    Успешный выход из аккаунта
  requirement: |
    Пользователь должен иметь возмодность выйти из аккаунта
  prerequisites: |
    Пользователь авторизован
  test-data: |
    Нет данных
  steps:
    - Открыть сайт https://codebattle.hexlet.io/#lobby
    - Нажать на ник или аватар
    - Нажать "Sign Out"
  expected-result: |
    Пользователь выходит из аккаунта и попадает на страницу входа
        
- summary: |
    Успешный переход в общий рейтинг пользователей из меню
  requirement: |
    Пользователь может открыть страницу рейтинга через меню
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - "Users rating"
  expected-result: |
    Открыта таблица рейтинга всех пользователей

- summary: |
    Успешный переход в Discord по ссылке в меню
  requirement: |
    Пользователь должен быть перенаправлен в Discord-сообщество проекта
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать на "Join Discord"
  expected-result: |
    В новой вкладке открыта страница приглашения в Discord
        
- summary: |
    Успешный переход в Telegram по ссылке в меню
  requirement: |
    При нажатии на ссылку открывается канал в Telegram
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Tg#codebattle"
  expected-result: |
    В новой вкладке открыта ссылка на вступление в Hexlet сообщество в Телеграм
        
- summary: |
    Успешное открытие репозитория GitHub с исходным кодом проекта
  requirement: |
    Пользователь может просматривать исходный код проекта
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "SourceCode"
  expected-result: |
    В новой вкладке открыт GitHub с исходным кодом проекта

- summary: |
    Успешный переход в раздел с задачами для практики
  requirement: |
    Пользователь может просматривать список задач
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Tasks"
  expected-result: |
    Открыта страница со списком задач для решения
        
- summary: |
    Успешный переход в раздел со списком кланов
  requirement: |
    Пользователь может видеть кланы
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Clans"
  expected-result: |
    Открыта страница с кланами
        
- summary: |
    Успешный просмотр клана
  requirement: |
    Пользователь может просматривать подробное описание клана
  prerequisites: |
    Пользователь авторизован и находится на главной странице
  test-data: |
    Нет данных
  steps:
    - Нажать на ник или аватар
    - Нажать "Clans"
    - Нажать на "Show" рядом с любым кланом
  expected-result: |
    Открыта страница с подробным описанием клана

- summary: |
    Успешная установка звезды проекту на GitHub
  requirement: |
    Есть возможность поставить звезду проекту на GitHub
  prerequisites: |
    Пользователь авторизован в GitHub
    Пользователь авторизован на сайте https://codebattle.hexlet.io/#lobby
  test-data: |
    Нет данных
  steps:
    - Открыть главную страницу сайта https://codebattle.hexlet.io/#lobby
    - Нажать на "Stars us" с иконкой GitHub
    - Перейти на страницу в GitHub
    - Нажать на "Stars"
  expected-result: |
    Звезда успешно установлена
        
